# Changelog

## 2025-02-18

### Added
- OAuth authentication setup for mobile app using better-auth
- Cloudflare tunnel for exposing local server to public domain (matiks.pgstay.in)
- Google OAuth configuration in backend

### Mobile Changes
- Created `src/lib/auth.ts` with better-auth client configuration using expoClient plugin
- Created `src/hooks/useAuth.ts` with sign-in/sign-out functionality
- Updated `App.tsx` to integrate auth flow with AuthScreen
- Added `AuthScreen.tsx` with Google sign-in button
- Installed dependencies: better-auth, @better-auth/expo, expo-secure-store, expo-network

### Web Changes (for testing without auth)
- Removed auth requirement from matiks-web
- Updated WebSocket URL to connect to production server (matiks.pgstay.in)
- Simplified AuthHeader component

### Backend Changes
- Updated auth.ts with expo plugin and trusted origins for mobile
- Updated CORS configuration
- Fixed redirect handling in auth routes

### Setup Notes
- Tunnel runs with: `cloudflared tunnel --config ~/.cloudflared/config.yml run`
- Backend runs on port 3000
- Mobile Expo runs on port 8081
- Web runs on port 5173

### Known Issues
- OAuth white screen issue on mobile - still being debugged
- WebSocket over Cloudflare tunnel not supported - use local for dev
